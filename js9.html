<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Пошук підрядка</title>

  <style>
    :root{
      --bg1:#0b1020;
      --bg2:#0a2230;
      --card:#0e1629cc;
      --stroke:#2a3557;
      --text:#eaf0ff;
      --muted:#aab6d6;
      --glow:#7c5cff;
      --glow2:#18d2ff;
      --good:#35d07f;
      --bad:#ff4d6d;
      --warn:#ffb020;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      padding:24px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 10% 10%, rgba(124,92,255,.25), transparent 60%),
        radial-gradient(700px 450px at 90% 20%, rgba(24,210,255,.18), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
    }

    .card{
      width:min(560px,100%);
      padding:26px 24px 22px;
      border-radius:22px;
      background:var(--card);
      border:1px solid rgba(42,53,87,.85);
      box-shadow:0 18px 45px rgba(0,0,0,.45);
      backdrop-filter: blur(10px);
      text-align:center;
    }

    h2{
      margin:0 0 6px;
      font-size:22px;
    }

    .sub{
      font-size:13px;
      color:var(--muted);
      margin-bottom:16px;
    }

    .grid{
      display:grid;
      gap:10px;
      text-align:left;
    }

    input[type="text"]{
      width:100%;
      padding:14px;
      border-radius:14px;
      border:1px solid rgba(42,53,87,.9);
      outline:none;
      font-size:16px;
      color:var(--text);
      background:rgba(0,0,0,.25);
      transition:.2s;
    }
    input::placeholder{ color:rgba(170,182,214,.7); }
    input:focus{
      border-color: rgba(124,92,255,.9);
      box-shadow:0 0 0 4px rgba(124,92,255,.18);
    }

    .row{
      display:flex;
      gap:10px;
      margin-top:2px;
    }

    button{
      flex:1;
      padding:13px;
      border:none;
      border-radius:14px;
      font-weight:700;
      cursor:pointer;
      transition:.18s;
      user-select:none;
    }

    .primary{
      color:#061021;
      background:linear-gradient(135deg, var(--glow), var(--glow2));
      box-shadow:0 10px 30px rgba(124,92,255,.25);
    }
    .primary:hover{ transform: translateY(-1px); filter: brightness(1.05); }

    .ghost{
      background:rgba(255,255,255,.08);
      color:var(--text);
      border:1px solid rgba(42,53,87,.85);
      box-shadow:none;
    }
    .ghost:hover{ transform: translateY(-1px); background:rgba(255,255,255,.10); }

    .result{
      margin-top:14px;
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(42,53,87,.85);
      background:rgba(0,0,0,.18);
      min-height:72px;
      white-space:pre-line;
      line-height:1.35;
      font-weight:700;
      text-align:left;
      color:var(--text);
    }

    .hint{
      margin-top:8px;
      font-size:12px;
      color:var(--muted);
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="card">
    <h2>Пошук підрядка в рядку</h2>
    <div class="sub">Введіть текст і підрядок — покажемо всі позиції входжень</div>

    <div class="grid">
      <input type="text" id="mainText" placeholder="Введіть текст (наприклад: у дворі трава на траві дрова)">
      <input type="text" id="searchText" placeholder="Що шукаємо? (наприклад: трава)">

      <div class="row">
        <button class="ghost" id="clearBtn">Очистити</button>
        <button class="primary" id="findBtn">Знайти</button>
      </div>
    </div>

    <div id="result" class="result">Результат зʼявиться тут</div>
    <div class="hint">Enter — знайти • Пошук чутливий до регістру (можу зробити без регістру)</div>
  </div>

  <script>
    const mainEl = document.getElementById("mainText");
    const searchEl = document.getElementById("searchText");
    const resultDiv = document.getElementById("result");
    const findBtn = document.getElementById("findBtn");
    const clearBtn = document.getElementById("clearBtn");

    function setMsg(text, colorVar){
      resultDiv.textContent = text;
      resultDiv.style.color = colorVar || "var(--text)";
    }

    function findSubstring() {
      const text = mainEl.value;
      const find = searchEl.value;

      if (!text.trim() || !find.trim()) {
        setMsg("⚠️ Введіть обидва поля!", "var(--warn)");
        return;
      }

      let pos = 0;
      const positions = [];

      while (true) {
        const foundPos = text.indexOf(find, pos);
        if (foundPos === -1) break;
        positions.push(foundPos);
        pos = foundPos + 1; // чтобы находило перекрывающиеся совпадения
      }

      if (positions.length === 0) {
        setMsg("❌ Підрядок не знайдено.", "var(--bad)");
        return;
      }

      setMsg(
        `✅ Знайдено входжень: ${positions.length}\nПозиції: ${positions.join(", ")}`,
        "var(--good)"
      );
    }

    findBtn.addEventListener("click", findSubstring);

    clearBtn.addEventListener("click", () => {
      mainEl.value = "";
      searchEl.value = "";
      setMsg("Результат зʼявиться тут", "var(--text)");
      mainEl.focus();
    });

    [mainEl, searchEl].forEach(el => {
      el.addEventListener("keydown", (e) => {
        if (e.key === "Enter") findSubstring();
      });
    });
  </script>
</body>
</html>
